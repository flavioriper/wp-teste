jQuery(document).ready(function(e){function s(){e(".gmw-edit-form .include-exclude-taxonomy-terms-wrapper").each(function(){var s=e(this);s.find(".gmw-taxonomies-picker-wrapper").slideUp("fast",function(){e(this).find(".single-taxonomy-picker").hide(),s.closest("tbody").find(".setting-post_types option").each(function(i){e(this).is(":selected")&&s.find(".gmw-taxonomies-picker-wrapper."+e(this).val()).slideDown("fast")})})})}e(".gmw-edit-form .include-exclude-taxonomy-terms-wrapper").length&&(s(),e(".gmw-edit-form tr#page_load_results-post_types-tr, .gmw-edit-form tr#search_form-post_types-tr").find(".setting-post_types").change(function(){s()}),e(".gmw-edit-form .include-exclude-taxonomy-terms-wrapper .header").on("click",function(){var s=e(this).closest(".gmw-taxonomies-picker-wrapper").find(".single-taxonomy-picker");e(".gmw-edit-form .include-exclude-taxonomy-terms-wrapper").find(".single-taxonomy-picker").slideUp("fast"),s.is(":visible")||s.slideDown("fast")})),jQuery("#search_form-taxonomies-tr .taxonomy-wrapper .taxonomy-header").off("click").on("click",function(){var e=jQuery(this).closest(".taxonomy-wrapper"),s=e.closest("div").attr("id");jQuery("#search_form-taxonomies-tr .taxonomy-wrapper .taxonomy-settings:not( #"+s+")").slideUp("fast"),e.find(".taxonomy-settings:hidden").slideDown()}),jQuery("#search_form-taxonomies-tr").find("select.taxonomy-usage").change(function(){jQuery(this).closest(".taxonomy-settings-table-wrapper").attr("data-type",jQuery(this).val())}),jQuery().sortable&&(jQuery("#taxonomies-wrapper").sortable({items:".taxonomy-wrapper",opacity:.5,cursor:"move",axis:"y",handle:".gmw-taxonomy-sort-handle"}),jQuery("#custom-fields-holder").sortable({items:".single-custom-field-wrapper",opacity:.5,cursor:"move",axis:"y",handle:".custom-field-handle"}));var i=jQuery("select.setting-iw_type").val();jQuery(".gmw-info-window-template."+i).slideDown(),jQuery("select.setting-iw_type").on("change",function(){jQuery(".gmw-info-window-template").slideUp("fast"),jQuery(".gmw-info-window-template."+jQuery(this).val()).slideDown()}),jQuery(".setting-ajax_enabled").is(":checked")?jQuery("#info-window-templates-wrapper").show():jQuery("#info-window-no-templates-message").show(),jQuery(".setting-ajax_enabled").change(function(){jQuery("#info-window-templates-wrapper").slideToggle(),jQuery("#info-window-no-templates-message").slideToggle()}),e(".new-field-button").click(function(s){var i=e("#custom-field-picker").val(),t=e(".single-custom-field-wrapper:not( .original-field )").map(function(){return e(this).data("key")}).get();if(-1==jQuery.inArray(i,t)){var n=e(".single-custom-field-wrapper.original-field").clone();n.attr("data-key",i).find("div.name input").val(i),n.appendTo("#custom-fields-holder").find('input[type="text"]:not(.chosen-search-input), select, input[type="checkbox"]').each(function(){var s=e(this).attr("name").replace("%%field_name%%",i);e(this).attr("name",s),e(this).prop("disabled",!1)}),n.slideDown().removeClass("original-field")}else alert("This field already exist in the form.")}),e(document).on("change",".single-custom-field-wrapper .type-select",function(){var s=e(this).closest("div").find(".date-type-select");"DATE"==e(this).val()?s.slideDown("fast"):s.slideUp("fast")}),e(document).on("change",".single-custom-field-wrapper .compration-select",function(){var s=e(this).val();e(this).closest(".single-custom-field-wrapper").find("div.label span:last-child");"BETWEEN"==s||"NOT BETWEEN"==s?(e(this).closest(".single-custom-field-wrapper").find("div.label span:last-child").slideDown("fast"),e(this).closest(".single-custom-field-wrapper").find("div.placeholder span:last-child").slideDown("fast")):(e(this).closest(".single-custom-field-wrapper").find("div.label span:last-child").slideUp("fast"),e(this).closest(".single-custom-field-wrapper").find("div.placeholder span:last-child").slideUp("fast"))}),e(document).on("click",".custom-field-delete",function(){e(this).closest(".single-custom-field-wrapper").slideUp("500",function(){e(this).remove()})}),"multiple"==e('#gmw-af-wrapper input[type="radio"]:checked').val()&&e(".gmw-af-field-settings-wrapper.single").slideUp("fast",function(){e(".gmw-af-field-settings-wrapper.multiple").slideDown()}),e("#address-fields-usage").change(function(){"single"==e(this).val()?e(".gmw-address-fields-settings.multiple").slideUp("fast",function(){e(".gmw-address-fields-settings.single").slideDown()}):e(".gmw-address-fields-settings.single").slideUp("fast",function(){e(".gmw-address-fields-settings.multiple").slideDown()})}),e(".gmw-address-fields-settings.multiple").find(".single-option.usage select").change(function(){var s=e(this).val(),i=e(this).closest(".single-address-field-raw");"disabled"==e(this).val()?(i.find(".single-option.usage").addClass("disabled"),i.find(".address-fields-settings").slideUp("fast")):(i.find(".single-option.usage").removeClass("disabled"),i.find(".address-fields-settings").slideUp("fast",function(){i.find(".address-fields-settings."+s).slideDown()}))}),e(".gmw-st-btns").change(function(){var s=e(this).closest(".gmw-single-taxonomy").find(".gmw-st-settings");"na"==e(this).val()?s.is(":visible")&&s.slideToggle():s.is(":visible")||s.slideToggle(),e(this).closest(".taxonomy-settings-table-wrapper").attr("data-type",e(this).val())}),e(".gmw-keywords-field-usage").change(function(){var s=e(this).val();""==s?e(".keywords-options-wrapper").slideUp("fast"):e(".keywords-options-wrapper").slideDown("fast")}),e("#search_form-post_types-tr .post-types-tax").change(function(){e("#search_form-taxonomies-tr .taxonomy-wrapper .taxonomy-settings").slideUp("fast")});var t=jQuery("#gmw-edit-form-page .bp-groups-settings-wrapper");"pre_defined"!=jQuery("#gmw-edit-form-page #bp-groups-usage").val()&&t.find(".single-option.label, .single-option.options-all").slideDown("fase"),jQuery("#gmw-edit-form-page #bp-groups-usage").change(function(){"pre_defined"==jQuery(this).val()?t.find(".single-option.label, .single-option.options-all").slideUp("fase"):t.find(".single-option.label, .single-option.options-all").slideDown("fase")})});