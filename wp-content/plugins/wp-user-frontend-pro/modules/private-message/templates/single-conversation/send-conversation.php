<div class="message-send-box">
    <form
        @submit.prevent="sendMessage"
        enctype="multipart/form-data"
    >
        <textarea
            class="write-area"
            v-model="message"
            placeholder="<?php esc_html_e( 'Type Message', 'wpuf-pro' ); ?>"
        ></textarea>

        <div class="message-submit-area">
            <label for="wpuf-message-attachment">
            <svg
                width="17"
                height="17"
                viewBox="0 0 17 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
            <path
                d="M15.5398 7.10894L8.75916 13.985C8.01056 14.7712 6.9919 15.2344 5.91512 15.2782C4.83834 15.322 3.78637 14.943 2.9781 14.2202C2.58341 13.8433 2.26739 13.3898 2.04879 12.8867C1.83019 12.3836 1.71347 11.8411 1.70555 11.2913C1.69763 10.7416 1.79867 10.1958 2.00268 9.68645C2.20669 9.17707 2.50951 8.71444 2.89317 8.32601L8.66829 2.46888C9.12362 2.02051 9.73462 1.77183 10.3692 1.77658C11.0039 1.78132 11.6112 2.03912 12.0599 2.49425C12.5087 2.94939 12.7629 3.56532 12.7676 4.20896C12.7722 4.8526 12.5271 5.47227 12.085 5.93407L6.30983 11.7912C6.16085 11.9347 5.96324 12.0147 5.7578 12.0147C5.55235 12.0147 5.35475 11.9347 5.20577 11.7912C5.06054 11.6421 4.97911 11.4409 4.97911 11.2313C4.97911 11.0217 5.06054 10.8206 5.20577 10.6714L9.82332 5.98833C9.98279 5.82568 10.072 5.60544 10.0714 5.37606C10.0707 5.14669 9.98029 4.92696 9.81992 4.76522C9.65955 4.60349 9.44239 4.51299 9.21622 4.51363C8.99006 4.51428 8.77341 4.60602 8.61394 4.76867L3.99639 9.45006C3.53186 9.92265 3.27101 10.5627 3.27101 11.23C3.27101 11.8973 3.53186 12.5374 3.99639 13.01C4.46909 13.4677 5.09749 13.723 5.751 13.723C6.40452 13.723 7.03292 13.4677 7.50562 13.01L13.2807 7.15286C13.6691 6.76663 13.9781 6.30613 14.1899 5.79801C14.4017 5.28988 14.512 4.74422 14.5145 4.19257C14.5171 3.64093 14.4117 3.09425 14.2046 2.58415C13.9975 2.07406 13.6927 1.61067 13.3079 1.2208C12.9231 0.830919 12.4659 0.522288 11.9627 0.312754C11.4595 0.103221 10.9204 -0.00305728 10.3765 6.69315e-05C9.83257 0.00319114 9.29466 0.115656 8.79387 0.330956C8.29308 0.546256 7.83935 0.860119 7.45891 1.25439L1.68379 7.11152C1.13956 7.66321 0.71014 8.32014 0.421013 9.04335C0.131886 9.76656 -0.0110564 10.5413 0.000666907 11.3216C0.0123902 12.1019 0.178541 12.8719 0.489259 13.5858C0.799977 14.2998 1.24893 14.9431 1.80948 15.4777C2.86136 16.4692 4.24799 17.0139 5.68391 16.9997C7.28792 16.9993 8.82607 16.3527 9.96005 15.2021L16.7407 8.32515C16.8218 8.2457 16.8865 8.15065 16.931 8.04556C16.9756 7.94048 16.999 7.82745 17 7.71308C17.0009 7.59871 16.9795 7.48529 16.9368 7.37944C16.8941 7.27358 16.831 7.17741 16.7513 7.09654C16.6715 7.01566 16.5767 6.95171 16.4723 6.9084C16.3679 6.86509 16.2561 6.84329 16.1433 6.84429C16.0306 6.84528 15.9191 6.86904 15.8155 6.91419C15.7119 6.95933 15.6182 7.02495 15.5398 7.10721V7.10894Z" fill="#CED2DC"/>
            </svg>
            <?php esc_html_e( 'Attachment', 'wpuf-pro' ); ?>
            </label>

            <input
                id="wpuf-message-attachment"
                type="file"
                class="custom-file-input"
                multiple="true"
                @change="uploadFile"
            >
            <div class="wpuf-submit-button-area">
                <img
                    src="<?php echo WPUF_PM_DIR . 'assets/images/loading-button.gif'; ?>"
                    alt=""
                    v-if="isSent"
                >
                <button type="submit"><?php _e( 'Send', 'wpuf-pro' ); ?></button>
            </div>
        </div>
        <div class="preview-files">

            <template v-for="(file, key) in previewLists">
                <div class="preview-file">
                    <img
                        :src="file.src"
                        alt=""
                        v-if="isImage(file.type)"
                    >
                    <svg
                        height="569pt"
                        viewBox="-66 0 569 569.286"
                        width="569pt"
                        xmlns="http://www.w3.org/2000/svg"
                        v-else
                    >
                        <path
                            d="m.109375 66.382812v493.132813c0 5.238281 4.246094 9.484375 9.484375 9.484375h360.367188c5.234374 0 9.480468-4.246094 9.480468-9.484375v-398.296875c0-.210938-.101562-.390625-.121094-.597656-.046874-.832032-.210937-1.652344-.484374-2.4375-.105469-.304688-.179688-.597656-.3125-.894532-.460938-1.03125-1.101563-1.972656-1.898438-2.777343l-94.832031-94.832031c-.804688-.800782-1.75-1.441407-2.789063-1.898438-.285156-.121094-.574218-.222656-.871094-.3125-.792968-.273438-1.617187-.4375-2.457031-.492188-.160156.027344-.347656-.074218-.546875-.074218h-265.535156c-5.238281 0-9.484375 4.242187-9.484375 9.480468zm346.957031 85.351563h-62.457031v-62.457031zm-327.992187-75.867187h246.570312v85.351562c0 5.234375 4.246094 9.480469 9.480469 9.480469h85.351562v379.335937h-341.402343zm0 0"/><path d="m398.410156 493.132812v18.964844h28.449219c5.238281 0 9.484375-4.242187 9.484375-9.480468v-493.132813c0-5.238281-4.246094-9.484375-9.484375-9.484375h-360.367187c-5.238282 0-9.484376 4.246094-9.484376 9.484375v28.449219h18.96875v-18.96875h341.398438v474.167968zm0 0"/><path d="m75.976562 189.667969h227.597657v18.964843h-227.597657zm0 0"/><path d="m75.976562 132.765625h75.867188v18.96875h-75.867188zm0 0"/><path d="m75.976562 246.566406h151.734376v18.96875h-151.734376zm0 0"/><path d="m246.675781 246.566406h56.898438v18.96875h-56.898438zm0 0"/><path d="m75.976562 303.464844h227.597657v18.96875h-227.597657zm0 0"/><path d="m75.976562 417.265625h227.597657v18.96875h-227.597657zm0 0"/><path d="m161.324219 360.367188h142.25v18.964843h-142.25zm0 0"/><path d="m75.976562 360.367188h66.382813v18.964843h-66.382813zm0 0"/><path d="m75.976562 474.167969h37.933594v18.964843h-37.933594zm0 0"/><path d="m132.875 474.167969h170.699219v18.964843h-170.699219zm0 0"/>
                    </svg>

                    <div class="close-icon">
                        <svg
                            width="32"
                            height="32"
                            viewBox="0 0 32 32"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            class="wpuf-file-remove-icon"
                            @click="removeFile(key)"
                        >
                            <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M10.071 8.07986C9.54607 7.55496 8.69504 7.55496 8.17014 8.07986C7.64524 8.60476 7.64524 9.45578 8.17014 9.98068L14.1893 15.9999L8.17001 22.0192C7.64511 22.5441 7.64511 23.3951 8.17001 23.92C8.69491 24.4449 9.54594 24.4449 10.0708 23.92L16.0902 17.9007L22.1095 23.9201C22.6344 24.445 23.4854 24.445 24.0103 23.9201C24.5352 23.3952 24.5352 22.5441 24.0103 22.0192L17.991 15.9999L24.0102 9.98064C24.5351 9.45574 24.5351 8.60471 24.0102 8.07982C23.4853 7.55492 22.6343 7.55492 22.1094 8.07982L16.0902 14.099L10.071 8.07986Z"
                                fill="#C4C4C4"
                            >
                            </path>
                        </svg>

                        <span class="remove-file-tooltip">
                            Remove File
                        </span>
                    </div>
                </div>
            </template>
        </div>
    </form>
</div>
